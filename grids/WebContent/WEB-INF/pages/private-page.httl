<!DOCTYPE html>
<html>
#set(components = ["bootstrap", "layout", "stream", "tag", "usercard"])
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>私人主页</title>
	$!{includeCSS()}
</head>
<body>
$!{include("navbar.httl")}
<div class="data-holder">
    <span id="id-holder">${id}</span>
    #if(id.equals(uid))
    <span id="is-self-page"></span>
    #end
    <span id="this-user-holder">${thisUserJson}</span>
</div>

<div class="container" id="container">
	<div class="row">
		<div class="side span3"><div style="height:30px;"></div></div>
		<div class="main span9">
			<div class="stream row">
				<div class="slist span9"></div>
			</div>
		</div>
	</div>
	<div class="footer"></div>
</div>
$!{include("proto.httl")}
$!{includeJS()}
<script type="text/javascript">
$(document).ready(function(){
	window.thisUser = $.parseJSON($('#this-user-holder').text());
    var $thisUser = createUserCard(window.thisUser).css('border', '').css('border-radius', '');
    $thisUser.find('.follow').remove();
    $thisUser.appendTo($('.side'));
    
	var deferred = getStream(webroot+'/read/u/' + $('#id-holder').text());
	if ($('#is-self-page').length > 0) {
	    deferred.done(function(){addDeleteButtons($('.slist .tweet'));});
	}
});
</script>
</body>
</html>